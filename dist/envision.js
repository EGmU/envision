function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Collapse=function(t){var e="aria-expanded",n="auto",i="collapsing",o="sv-collapse--",s="collapse",r=t.fn[s],a="show",h=function(){function s(e){_classCallCheck(this,s),this.el=e,this.$el=t(e)}return s.prototype.toggle=function(){this.$el.hasClass(o+a)?this.hide():this.show()},s.prototype.show=function(){this.$el.addClass(o+i).one(Util.getTransitionEndEvent(),this._showTransitionComplete).height(this.el.scrollHeight)},s.prototype.hide=function(){this.$el.height(this.$el.height()).removeClass(o+a).addClass(o+i).one(Util.getTransitionEndEvent(),this._hideTransitionComplete).height(0)},s.prototype._showTransitionComplete=function(s){var r=t(s.currentTarget);r.removeClass(o+i).addClass(o+a).height(n).attr(e,!0)},s.prototype._hideTransitionComplete=function(n){var s=t(n.currentTarget);s.removeClass(o+i).attr(e,!1)},s._jQuery=function(t){return this.each(function(){var e=new s(this);if("string"==typeof t){if(void 0===e[t])throw new Error('No method named "'+t+'"');return void e[t]()}e.toggle()})},s}();return t.fn[s]=h._jQuery,t.fn[s].Constructor=h,t.fn[s].noConflict=function(){return t.fn[s]=r,h._jQuery},t(document).on("click","[data-sv-collapse]",function(e){e.preventDefault();var n=t(this),s=n.attr("href")||n.attr("data-target"),r=t(s);r.hasClass(o+i)||r.collapse()}),h}(jQuery),Dropdown=function(t){var e="dropdown",n=t.fn[e],i="sv-is-open",o="[data-dropdown]",s=27,r="click.sv-dropdown",a="keydown.sv-dropdown",h=function(){function e(n){_classCallCheck(this,e),this.el=n,this.$el=t(n),this._id=this.el.id}return e.prototype.toggle=function(){this.$el.hasClass(i)?this.hide():this.show()},e.prototype.show=function(){this.$el.attr("aria-expanded","true").addClass(i).focus(),this._bindEvents()},e.prototype.hide=function(){this.$el.attr("aria-expanded","false").removeClass(i).find(".sv-dropdown--toggle").blur(),this._unbindEvents()},e.prototype._bindEvents=function(){var e=this,n=r+"-"+this.el.id,i=a+"-"+this.el.id;t(document).off(n).on(n,function(n){t(n.target).hasClass("sv-dropdown__menu")||e.hide()}),this.$el.off(i).one(i,function(t){t.which===s&&e.hide()})},e.prototype._unbindEvents=function(){t(document).off(r+"-"+this.el.id),this.$el.off(a+"-"+this.el.id)},e._jQuery=function(n){return this.each(function(){var i=t(this),o=i.data("sv.dropdown");if(o||(o=new e(this),i.data("sv.dropdown",o)),"string"==typeof n){var s=o[n];if(void 0===s)throw new Error('No method named "'+n+'"');return void s.call(o)}o.toggle()})},e}();return t.fn[e]=h._jQuery,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=n,h._jQuery},t(document).on("click",o,function(e){e.preventDefault();var n=t(this),i=t(n.data("target"));i.dropdown()}),h}(jQuery),Modal=function(t){var e="sv-animation-in-progress",n="sv-modal__backdrop",i="sv-modal__backdrop--in",o="sv.modal",s="[data-modal-dismiss]",r=27,a="focusin.sv-modal",h="sv-modal--",l="modal",c=t.fn[l],f="[data-modal]",d="show",u=9,p='a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]',v={HIDE:"hide.sv-modal",HIDDEN:"hidden.sv-modal",SHOW:"show.sv-modal",SHOWN:"shown.sv-modal"},g=function(){function l(e){_classCallCheck(this,l),this.el=e,this.$el=t(e),this._isShown=!1}return l.prototype.toggle=function(){return this._isShown?this.hide():this.show()},l.prototype.show=function(){var e=this;if(!this._isShown){this.$el.outerWidth();var n=t.Event(v.SHOW,{});this.$el.trigger(n);var i=t.Event(v.SHOWN,{});this.$el.one(Util.getTransitionEndEvent(),function(){e.$el.trigger(i)}).addClass(h+d).removeAttr("aria-hidden").css("opacity",1),this._showBackdrop(),this._isShown=!0,this.el.focus(),this._bindEvents()}},l.prototype.hide=function(){var e=this;if(this._isShown){var n=function(){e.$el.removeClass(h+d);var n=t.Event(v.HIDDEN,{});e.$el.trigger(n)},o=function(){e.$backdrop.remove()},r=t.Event(v.HIDE,{});this.$el.trigger(r),this.$el.one(Util.getTransitionEndEvent(),n).attr("aria-hidden","true").css("opacity",0).off("click",s),this.$backdrop.one(Util.getTransitionEndEvent(),o).removeClass(i),this._isShown=!1,this._unbindEvents()}},l.prototype._bindEvents=function(){var e=this;this.$el.on("click",s,function(t){return e.hide(t)}),t(document).off(a).one(a,function(t){document===t.target||e.el===t.target||e.$el.has(t.target).length||e.el.focus()});var n=this.$el.find(p),i=n[0],o=n[n.length-1];this.$el.on("keydown",function(t){t.which===u&&(t.shiftKey?t.target===i&&(t.preventDefault(),o.focus()):t.target===o&&(t.preventDefault(),i.focus())),t.which===r&&e.hide()})},l.prototype._unbindEvents=function(){this.$el.off("click keydown"),t(document).off(a)},l.prototype._showBackdrop=function(){var o=this;this.$backdrop=t("<div/>",{class:n}),this.$el.on("click",function(t){o.$backdrop.hasClass(e)||t.target===t.currentTarget&&o._isShown&&o.hide()}),this.$backdrop.appendTo(document.body),this.$backdrop.one(Util.getAnimationEndEvent(),this._removeBackdropAnimation).addClass(i+" "+e)},l.prototype._removeBackdropAnimation=function(n){t(n.currentTarget).removeClass(e)},l._jQuery=function(e){var n=this;return this.each(function(){var i=t(n),s=i.data(o);if(s||(s=new l(n),i.data(o,s)),"string"==typeof e){var r=s[e];if(void 0===r)throw new Error('No method named "'+e+'"');return void r.call(s)}s.show()})},l}();return t.fn[l]=g._jQuery,t.fn[l].Constructor=g,t.fn[l].noConflict=function(){return t.fn[l]=c,g._jQuery},t(document).on("click",f,function(e){e.preventDefault();var n=t(t(this).data("target"));n.modal()}),g}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Popover=function(t){var e="popover",n="sv.popover",i="."+n,o=t.fn[e],s="sv-tether",r={top:"bottom center",bottom:"top center",left:"middle right",right:"middle left"},a={top:"10 0",bottom:"-10 0",left:"0 10",right:"0 -10"},h={constraints:[],container:"body",content:"",escapeContent:!0,customOffset:void 0,placement:"top",template:'<div class="sv-popover" role="tooltip">\n                  <div class="sv-popover__arrow"></div>\n                  <div class="sv-popover__header">\n                     <h3 class="sv-popover__header__title"></h3>\n                  </div>\n                  <div class="sv-popover__content"></div>\n               </div>',title:"",trigger:"click"},l=function(){function e(n,i){_classCallCheck(this,e),this.el=n,this.$el=t(this.el),this.config=t.extend({},h,this.$el.data(),i),this.bindEvents()}return e.prototype.bindEvents=function(){var t=this,e=this.config.trigger.split(" ");e.forEach(function(e){if("click"===e)t.$el.on(t.config.trigger+i,function(){t.isShowing?t.hide():t.show()});else{var n="hover"===e,o=n?"mouseenter":"focusin",s=n?"mouseleave":"focusout";t.$el.on(o+i,function(){t.isShowing||t.show()}).on(s+i,function(){t.isShowing&&t.hide()})}})},e.prototype.getPopoverElement=function(){return this.$popoverElement=this.$popoverElement||t(this.config.template)},e.prototype.setText=function(t,e,n){t.find(e)[this.config.escapeContent?"text":"html"](n)},e.prototype.setTitle=function(t){this.setText(t,".sv-popover__header__title",this.config.title)},e.prototype.setContent=function(t){this.setText(t,".sv-popover__content",this.config.content)},e.prototype.setArrowPosition=function(t){t.find(".sv-popover__arrow").addClass("sv-popover__arrow--"+this.config.placement)},e.prototype._getOffset=function(){return this.config.customOffset||a[this.config.placement]},e.prototype.hide=function(){var t=this.getPopoverElement();t.detach(),this.isShowing=!1},e.prototype.show=function(){var e=this.getPopoverElement();this.setTitle(e),this.setContent(e),this.setArrowPosition(e),t("body").append(e),this._tether=new Tether({attachment:r[this.config.placement],element:e,target:this.el,classes:{element:!1,enabled:!1},classPrefix:s,offset:this._getOffset(),constraints:this.config.constraints,addTargetClasses:!1}),this._tether.position(),this.isShowing=!0},e.prototype.destroy=function(){this.hide(),this.$popoverElement=void 0,this._tether=void 0,this.isShowing=!1,this.$el.removeData(n)},e._jQuery=function(i){return this.each(function(){var o=t(this),s=o.data(n);if((s||!/destroy|hide/.test(i))&&(s||(s=new e(this,"object"===("undefined"==typeof i?"undefined":_typeof(i))?i:null),o.data(n,s)),"string"==typeof i)){var r=s[i];if(!r)throw new Error('Invalid method name "'+i+'"');r.call(s)}})},e}();return t.fn[e]=l._jQuery,t.fn[e].Constructor=l,t.fn[e].noConflict=function(){return t.fn[e]=o,l._jQuery},l}(jQuery),RangeSlider=function(t){var e="range-handle-index",n=".sv-range-slider__handle",i=".sv-range-slider__handle-value",o=".sv-range-slider__range",s="sv.range-slider",r="rangeSlider",a=t.fn[r],h=39,l=37,c=40,f=38,d={SLIDE:"slide",STOP:"slidestop"},u={min:0,max:100,step:1,values:[0,0],visibleValues:!0},p=function(){function r(e,s){_classCallCheck(this,r),this.config=t.extend({},u,s),this.$document=t(document),this.el=e,this.$el=t(e),this.handles=this.$el.find(n),this.$range=this.$el.find(o),this.config.visibleValues&&(this.handleValueHolders=this.$el.find(i)),this.handleEvents={mousedown:this._initSlide.bind(this),keydown:this._initKeySlide.bind(this),keyup:this._stopKeySlide.bind(this)}}return r.prototype.initialize=function(){this._setupHandles(),this._refreshRange(),this._bindEvents()},r.prototype._setupHandles=function(){this.handles.each(function(n,i){t(i).data(e,n)})},r.prototype._refreshRange=function(){var e=this,n=void 0,i=void 0,o=void 0;this.handles.each(function(s,r){o=e._getValue(s),i=(o-e.config.min)/(e.config.max-e.config.min)*100,t(r).css("left",i+"%"),0===s?(e.$range.css("left",i+"%"),e.config.visibleValues&&e.handleValueHolders.eq(s).css("left",i+"%").text(o)):(e.$range.css("width",i-n+"%"),e.config.visibleValues&&e.handleValueHolders.eq(s).css("left",i+"%").text(o)),n=i})},r.prototype._bindEvents=function(){this.handles.off(),this.handles.on(this.handleEvents)},r.prototype._initSlide=function(e){var n=this;this.$document.on("mousemove."+s,this._handleSlide.bind(this)),this.$document.one("mouseup."+s,this._stopSlide.bind(this));var i={x:e.pageX,y:e.pageY},o=this._normValueFromMouse(i),r=this.config.max-this.config.min+1,a=void 0,h=void 0;this.handles.each(function(e,i){var s=n._getValue(e),l=Math.abs(o-s);(r>l||r===l&&(e===n._lastChangedValue||s===n.config.min))&&(r=l,a=t(i),h=e)}),this._handleIndex=h,a.trigger("focus");var l=a.offset();this._clickOffset={left:event.pageX-l.left-a.width()/2,top:event.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this._slide(e,h,o)},r.prototype._handleSlide=function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},r.prototype._slide=function(t,e,n){var i=this._getValue(e?0:1),o=this._getValue(e),s=this._getValues();n=0===e?Math.min(i,n):Math.max(i,n),s[e]=n,n!==o&&(this._trigger(d.SLIDE,t,{values:s}),this._setValue(e,n))},r.prototype._stopSlide=function(t){return this.$document.off("mousemove."+s),this._trigger(d.STOP,t,{values:this._getValues()}),this._handleIndex=null,this._clickOffset=null,!1},r.prototype._initKeySlide=function(n){switch(n.keyCode){case f:case c:case l:case h:n.preventDefault(),this._keySliding||(this._keySliding=!0);break;default:return}var i=t(n.target).data(e),o=this._getValue(i),s=void 0;switch(event.keyCode){case f:case h:if(o===this.config.max)return;s=this._trimAlignValue(o+this.config.step);break;case c:case l:if(o===this.config.min)return;s=this._trimAlignValue(o-this.config.step)}this._slide(n,i,s)},r.prototype._stopKeySlide=function(t){this._keySliding&&(this._keySliding=!1,this._trigger(d.STOP,t,{values:this._getValues()}))},r.prototype._getElementOffsetLeft=function(){return this.elementOffsetLeft||(this.elementOffsetLeft=this.el.offset().left),this.elementOffsetLeft},r.prototype._getElementWidth=function(){return this.elementWidth||(this.elementWidth=this.el.outerWidth()),this.elementWidth},r.prototype._normValueFromMouse=function(t){var e=this._getElementWidth(),n=this.config.max-this.config.min,i=t.x-this._getElementOffsetLeft()-(this._clickOffset?this._clickOffset.left:0),o=i/e;o>1&&(o=1),o<0&&(o=0);var s=this.config.min+o*n;return this._trimAlignValue(s)},r.prototype._trimAlignValue=function(t){if(t<=this.config.min)return this.config.min;if(t>=this.config.max)return this.config.max;var e=this.config.step,n=(t-this.config.min)%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},r.prototype._getValues=function(){return this.config.values.slice()},r.prototype._getValue=function(t){return this.config.values[t]},r.prototype._setValue=function(t,e){this.config.values[t]=this._trimAlignValue(e),this._refreshRange()},r.prototype._trigger=function(e,n,i){var o=this.el[0],s=this.config[e];n=t.Event(n),n.type=e,n.target=o,this.$el.trigger(n,i),s&&s.call(o,n,i)},r._jQuery=function(e){var n=this;return this.each(function(){var i=t(n),o=i.data(s);o||(o=new r(n,e),i.data(s,o),o.initialize())})},r}();return t.fn[r]=p._jQuery,t.fn[r].Constructor=p,t.fn[r].noConflict=function(){return t.fn[r]=a,p._jQuery},p}(jQuery),Tabs=function(t){var e="aria-selected",n="aria-hidden",i=13,o="sv.tabs",s="sv-is-active",r="tabs",a=t.fn[r],h=".sv-tabs__nav__link",l={active:0},c=function(){function r(e,n){_classCallCheck(this,r),this.el=e,this.$el=t(e),this.$tabs=this.$el.find(h),this.config=t.extend({},l,n),this.$panels={},this.$activeTab=void 0,this._bindEvents()}return r.prototype.initialize=function(){var i=this;this.$tabs.each(function(o,r){var a=t(r),h=i.$el.find(a.attr("href"));i.$panels[a.attr("id")]=h,a.removeClass(s).attr(e,!1),h.attr(n,!0).hide()}),this._setActive(this.$tabs.eq(this.config.active))},r.prototype.activate=function(t){this._setActive(this.$tabs.eq(t))},r.prototype.destroy=function(){this.$tabs.off("click keydown"),this.$activeTab=void 0,this.$tabs=void 0,this.$panels=void 0,this.$el.removeData(o)},r.prototype._bindEvents=function(){var e=this;this.$tabs.on("click",function(n){n.preventDefault(),e._setActive(t(n.currentTarget))}),this.$tabs.on("keydown",function(n){n.which===i&&e._setActive(t(n.currentTarget))})},r.prototype._setActive=function(t){this._resetActive(),t.addClass(s).attr(e,!0).focus(),this._getPanelForTab(t).attr(n,!1).show(),this.$activeTab=t},r.prototype._getPanelForTab=function(t){return this.$panels[t.attr("id")]},r.prototype._resetActive=function(){this.$activeTab&&(this.$activeTab.removeClass(s).attr(e,!1),this._getPanelForTab(this.$activeTab).attr(n,!0).hide())},r._jQuery=function(e,n){var i=this;return this.each(function(){var s=t(i),a=s.data(o);if(a){if("string"==typeof e){var h=a[e];if(!h)throw new Error('Invalid method name "'+e+'"');h.call(a,n)}}else a=new r(i,e),s.data(o,a),a.initialize()})},r}();return t.fn[r]=c._jQuery,t.fn[r].Constructor=c,t.fn[r].noConflict=function(){return t.fn[r]=a,c._jQuery},c}(jQuery),Util=function(){function t(t){var e=void 0,n=document.createElement("fakeelement");for(e in t)if(void 0!==n.style[e])return t[e];return!1}var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n={OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",animation:"animationend"},i={getAnimationEndEvent:function(){return t(n)},getTransitionEndEvent:function(){return t(e)}};return i}();
//# sourceMappingURL=../dist/map/envision.js.map
