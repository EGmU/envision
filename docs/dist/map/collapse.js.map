{"version":3,"sources":["collapse.js"],"names":["Collapse","$","ARIA_EXPANDED","AUTO","COLLAPSING","MODIFIER_BASE","NAME","NO_CONFLICT","fn","SHOW","TRANSITIONS","transition","OTransition","MozTransition","WebkitTransition","element","el","$el","toggle","hasClass","hide","show","addClass","one","whichTransitionEvent","showTransitionComplete","height","scrollHeight","e","$target","currentTarget","removeClass","attr","hideTransitionComplete","document","createElement","t","style","undefined","_jQuery","each","data","Constructor","noConflict","on","preventDefault","$this","target","collapse","jQuery"],"mappings":"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","file":"../../js/collapse.js","sourcesContent":["const Collapse = (($) => {\n\n   const ARIA_EXPANDED = 'aria-expanded';\n   const AUTO = 'auto';\n   const COLLAPSING = 'collapsing';\n   const MODIFIER_BASE = 'sv-collapse--';\n   const NAME = 'collapse';\n   const NO_CONFLICT = $.fn[NAME];\n   const SHOW = 'show';\n\n   const TRANSITIONS = {\n      transition        : 'transitionend',\n      OTransition       : 'oTransitionEnd',\n      MozTransition     : 'transitionend',\n      WebkitTransition  : 'webkitTransitionEnd'\n   };\n\n   class Collapse {\n\n      constructor (element) {\n         this.el = element;\n         this.$el = $(element);\n      }\n\n      toggle() {\n         this.$el.hasClass(MODIFIER_BASE + SHOW) ? this.hide() : this.show();\n      }\n\n      show() {\n         this.$el\n            .addClass(MODIFIER_BASE + COLLAPSING)\n            .one(this.whichTransitionEvent(), this.showTransitionComplete)\n            .height(this.el.scrollHeight);\n      }\n\n      showTransitionComplete(e) {\n         const $target = $(e.currentTarget);\n\n         $target\n            .removeClass(MODIFIER_BASE + COLLAPSING)\n            .addClass(MODIFIER_BASE + SHOW)\n            .height(AUTO)\n            .attr(ARIA_EXPANDED, true);\n      }\n\n      hide() {\n         this.$el\n            .height(this.$el.height())\n            .removeClass(MODIFIER_BASE + SHOW)\n            .addClass(MODIFIER_BASE + COLLAPSING)\n            .one(this.whichTransitionEvent(), this.hideTransitionComplete)\n            .height(0);\n      }\n\n      hideTransitionComplete(e) {\n         const $target = $(e.currentTarget);\n\n         $target\n            .removeClass(MODIFIER_BASE + COLLAPSING)\n            .attr(ARIA_EXPANDED, false);\n      }\n\n      whichTransitionEvent() {\n         const el = document.createElement('fakeelement');\n\n         for (t in TRANSITIONS) {\n            if (el.style[t] !== undefined) {\n               return TRANSITIONS[t];\n            }\n         }\n      }\n\n      static _jQuery() {\n         return this.each(function() {\n            const data = new Collapse(this);\n\n            data.toggle();\n         });\n      }\n   }\n\n   $.fn[NAME] = Collapse._jQuery;\n   $.fn[NAME].Constructor = Collapse;\n   $.fn[NAME].noConflict = () => {\n      $.fn[NAME] = NO_CONFLICT;\n      return Collapse._jQuery;\n   };\n\n\n   $(document).on('click', '[data-sv-collapse]', function (e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const target = $this.attr('href') || $this.attr('data-target');\n      const $target = $(target);\n\n      if ($target.hasClass(MODIFIER_BASE + COLLAPSING)) {\n         return;\n      }\n\n      $target.collapse();\n   });\n\n   return Collapse;\n\n})(jQuery);\n\nexport default Collapse;\n"]}