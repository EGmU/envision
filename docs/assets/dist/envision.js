function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Collapse=function(t){var e="envCollapse",i=t.fn[e],n=function(){function e(i){_classCallCheck(this,e),this.el=i,this.$el=t(i)}return e.prototype.toggle=function(){this.$el.hasClass("env-collapse--show")?this.hide():this.show()},e.prototype.show=function(){this.$el.addClass("env-collapse--collapsing").one(Util.getTransitionEndEvent(),this._showTransitionComplete).height(this.el.scrollHeight)},e.prototype.hide=function(){this.$el.height(this.$el.height()).removeClass("env-collapse--show").addClass("env-collapse--collapsing").one(Util.getTransitionEndEvent(),this._hideTransitionComplete).height(0)},e.prototype._showTransitionComplete=function(e){t(e.currentTarget).removeClass("env-collapse--collapsing").addClass("env-collapse--show").height("auto").attr("aria-expanded",!0)},e.prototype._hideTransitionComplete=function(e){t(e.currentTarget).removeClass("env-collapse--collapsing").attr("aria-expanded",!1)},e._jQuery=function(t){return this.each(function(){var i=new e(this);if("string"==typeof t){if(void 0===i[t])throw new Error('No method named "'+t+'"');return void i[t]()}i.toggle()})},e}();return t.fn[e]=n._jQuery,t.fn[e].Constructor=n,t.fn[e].noConflict=function(){return t.fn[e]=i,n._jQuery},t(document).on("click","[data-env-collapse]",function(e){e.preventDefault();var i=t(this),n=i.attr("href")||i.attr("data-target"),o=t(n);o.hasClass("env-collapse--collapsing")||o.collapse()}),n}(jQuery),Dropdown=function(t){var e="envDopdown",i=t.fn[e],n=function(){function e(i){_classCallCheck(this,e),this.el=i,this.$el=t(i),this._id=this.el.id}return e.prototype.toggle=function(){this.$el.hasClass("env-is-open")?this.hide():this.show()},e.prototype.show=function(){this.$el.attr("aria-expanded","true").addClass("env-is-open").focus(),this._bindEvents()},e.prototype.hide=function(){this.$el.attr("aria-expanded","false").removeClass("env-is-open").find(".env-dropdown--toggle").blur(),this._unbindEvents()},e.prototype._bindEvents=function(){var e=this,i="click.env-dropdown-"+this.el.id,n="keydown.env-dropdown-"+this.el.id;t(document).off(i).on(i,function(i){t(i.target).hasClass("env-dropdown__menu")||e.hide()}),this.$el.off(n).one(n,function(t){27===t.which&&e.hide()})},e.prototype._unbindEvents=function(){t(document).off("click.env-dropdown-"+this.el.id),this.$el.off("keydown.env-dropdown-"+this.el.id)},e._jQuery=function(i){return this.each(function(){var n=t(this),o=n.data("env.dropdown");if(o||(o=new e(this),n.data("env.dropdown",o)),"string"==typeof i){var s=o[i];if(void 0===s)throw new Error('No method named "'+i+'"');return void s.call(o)}o.toggle()})},e}();return t.fn[e]=n._jQuery,t.fn[e].Constructor=n,t.fn[e].noConflict=function(){return t.fn[e]=i,n._jQuery},t(document).on("click","[data-dropdown]",function(e){e.preventDefault();var i=t(this);t(i.data("target")).dropdown()}),n}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Imageslider=function(t){var e="env.image-slider",i="."+e,n="envImageslider",o=t.fn[n],s={buttons:!0,imageSlider:!1,interval:5e3,keyboard:!0,pause:"hover",slide:!1,swipe:!0,wrap:!0},a={ACTIVE:".env-image-slider__item--active",ACTIVE_DOT:".env-icon--dot-big-selected",ACTIVE_ITEM:".env-image-slider__item--active.env-image-slider__item",DATA_SLIDE:"[data-move], [data-move-to], [data-image-slider-touch]",DATA_IMAGE_SLIDER:"[data-image-slider]",DOT:".env-icon--dot-big",INDICATORS:".env-image-slider__indicators",INNER:".env-image-slider__inner",NEXT_PREV:".env-image-slider--next, .env-image-slider--prev",ITEM:".env-image-slider__item",THUMBNAILS:".env-image-slider__thumbnails"},r={ACTIVE:"env-image-slider__item--active",ACTIVE_DOT:"env-icon--dot-big-selected",DOT:"env-icon--dot-big",IMAGESLIDER:"env-image-slider",LEFT:"env-image-slider__item--left",NEXT:"env-image-slider__item--next",PREV:"env-image-slider__item--prev",RIGHT:"env-image-slider__item--right",SLIDE:"env-image-slider--slide"},l={LEFT:"left",NEXT:"next",PREV:"prev",RIGHT:"right"},h={CLICK_DATA_API:"click"+i+".data-api",KEYDOWN:"keydown"+i,LOAD_DATA_API:"load"+i+".data-api",MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,SLID:"slid"+i,SLIDE:"slide"+i,TOUCHEND:"touchend"+i,TOUCHMOVE:"touchmove"+i,TOUCHSTART:"touchstart"+i},c=function(){function n(e,i){_classCallCheck(this,n),this.$el=t(e),this.$images=this.$el.find(a.ITEM),this._isSliding=!1,this._isPaused=!1,this._interval=null,this._activeElement=null,this._indicatorsElement=this.$el.find(a.INDICATORS)[0],this._thumbnailElements=this.$el.find(a.THUMBNAILS)[0],this.config=t.extend({},s,this.$el.data(),i),this.$images.length>1&&i.buttons&&this._addSlideButtons(),this._bindEvents()}return n.prototype.next=function(){this._isSliding||this._slide(l.NEXT)},n.prototype.prev=function(){this._isSliding||this._slide(l.PREV)},n.prototype.nextWhenVisible=function(){document.hidden||this.next()},n.prototype.pause=function(t){t||(this._isPaused=!0),clearInterval(this._interval),this._interval=null},n.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this.config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this.config.interval))},n.prototype.goTo=function(t){this._activeElement=this.$el.find(a.ACTIVE_ITEM)[0];var e=this._getItemIndex(this._activeElement);if(!(t>this.$images.length-1||t<0||this._isSliding)){if(e===t)return this.pause(),void this.cycle();var i=t>e?l.NEXT:l.PREV;this._slide(i,this.$images[t])}},n.prototype.startTouchSlide=function(t){this.touchstartx=t.originalEvent.touches[0].pageX},n.prototype.moveTouchSlide=function(t){this.touchmovex=t.originalEvent.touches[0].pageX,this.movex=-(this.touchstartx-this.touchmovex),this.moved=!1;var e=this.$el.find(a.ACTIVE).children();e.css("transform","translate3d("+this.movex+"px, 0, 0)"),this.movex>80?(this.prev(),this.moved=!0,setTimeout(function(){e.css("transform","translate3d(0, 0, 0)")},500)):this.movex<-80&&(this.next(),this.moved=!0,setTimeout(function(){e.css("transform","translate3d(0, 0, 0)")},500))},n.prototype.endTouchSlide=function(){this.moved||this.$el.find(a.ACTIVE).children().css("transform","translate3d(0, 0, 0)")},n.prototype.dispose=function(){this.$el.off(i).removeData(e),this.$el=null,this.$images=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null,this._thumbnailElements=null},n.prototype._addSlideButtons=function(){var e=this.$el[0].id,i='<a class="env-image-slider--prev" role="button" data-move="prev" href="#'+e+'">\n               <span class="env-image-slider__prev-icon env-icon--arrow-left env-icon--large" aria-hidden="true"></span>\n               <span class="env-assistive-text">Previous</span>\n            </a>\n            <a class="env-image-slider--next" role="button" data-move="next" href="#'+e+'">\n               <span class="env-image-slider__next-icon env-icon--arrow-right env-icon--large" aria-hidden="true"></span>\n               <span class="env-assistive-text">Next</span>\n            </a>';t("#"+e).find(a.INNER).append(i)},n.prototype._getItemByDirection=function(t,e){var i=t===l.NEXT,n=this._getItemIndex(e),o=this.$images.length-1;if((!i&&0===n||i&&n===o)&&!this.config.wrap)return e;var s=i?1:-1,a=(n+s)%this.$images.length;return-1===a?this.$images[o]:this.$images[a]},n.prototype._bindEvents=function(){var t=this;this.config.keyboard&&this.$el.on(h.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this.config.pause&&"cycle"===this.config.imageSlider&&(this.$el.on(h.MOUSEENTER,function(e){return t.pause(e)}).on(h.MOUSELEAVE,function(e){return t.cycle(e)}),Util.isTouch()&&this.$el.on(h.TOUCHEND,function(){t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500,t.config.interval)})),this.config.swipe&&this._bindTouchSlider()},n.prototype._bindTouchSlider=function(){var t=this,e=this.$el.find(a.INNER);e.on(h.TOUCHSTART,function(e){t.startTouchSlide(e)}),e.on(h.TOUCHMOVE,function(e){t.moveTouchSlide(e)}),e.on(h.TOUCHEND,function(){t.endTouchSlide(event)})},n.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},n.prototype._getItemIndex=function(t){return this.$images.index(t)},n.prototype._triggerSlideEvent=function(e,i){var n=this._getItemIndex(e),o=this._getItemIndex(this.$el.find(a.ACTIVE_ITEM)[0]),s=t.Event(h.SLIDE,{targetElement:e,direction:i,from:o,to:n});return this.$el.trigger(s),s},n.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(a.ACTIVE_DOT).removeClass(r.ACTIVE_DOT).addClass(r.DOT);var i=this._indicatorsElement.children[this._getItemIndex(e)].firstElementChild;i&&t(i).addClass(r.ACTIVE_DOT)}else if(this._thumbnailElements){t(this._thumbnailElements).find(a.ACTIVE).removeClass(r.ACTIVE);var n=this._thumbnailElements.children[this._getItemIndex(e)].firstElementChild;n&&t(n).addClass(r.ACTIVE)}},n.prototype._slide=function(e,i){var n=this,o=this.$el.find(a.ACTIVE_ITEM)[0],s=this._getItemIndex(o),c=i||o&&this._getItemByDirection(e,o),d=this._getItemIndex(c),u=void 0,f=void 0,v=void 0;e===l.NEXT?(u=r.LEFT,f=r.NEXT,v=l.LEFT):(u=r.RIGHT,f=r.PREV,v=l.RIGHT);var p=t(c);if(c&&p.hasClass(r.ACTIVE))return void(this._isSliding=!1);var g=this._triggerSlideEvent(c,v);if(!g.isDefaultPrevented()&&o&&c){this._isSliding=!0,this._setActiveIndicatorElement(c);var m=t.Event(h.SLID,{relatedTarget:c,direction:v,from:s,to:d}),_=t(o);this.$el.hasClass(r.SLIDE)?(p.addClass(f),Util.reflow(c),_.addClass(u),p.addClass(u),_.one(Util.getTransitionEndEvent(),function(){p.removeClass(u+" "+f).addClass(r.ACTIVE),_.removeClass(r.ACTIVE+" "+f+" "+u),n._isSliding=!1,n.$el.trigger(m)})):(_.removeClass(r.ACTIVE),p.addClass(r.ACTIVE),this._isSliding=!1,this.$el.trigger(g))}},n._jQueryInterface=function(i){var o=this;return this.each(function(){var a=t(o),r=a.data(e),l=t.extend({},s,a.data());"object"===(void 0===i?"undefined":_typeof(i))&&t.extend(l,i);var h="string"==typeof i?i:l.move;if(r||(r=new n(o,l),a.data(e,r)),"number"==typeof i)r.goTo(i);else if("string"==typeof h){if(void 0===r[h])throw new Error('No method named "'+h+'"');r[h]()}else l.interval&&"cycle"===l.imageSlider&&(r.pause(),r.cycle())})},n._dataApiClickHandler=function(i){var o=Util.getSelectorFromElement(this);if(o){var s=t(o).eq(0);if(s.length&&s.hasClass(r.IMAGESLIDER)){var a=t.extend({},s.data(),t(this).data()),l=this.getAttribute("data-move-to");l&&(a.interval=!1),n._jQueryInterface.call(s,a),l&&s.data(e).goTo(l),i.preventDefault()}}},n}();return t(document).on(h.CLICK_DATA_API,a.DATA_SLIDE,c._dataApiClickHandler),t(window).on(h.LOAD_DATA_API,function(){t(a.DATA_IMAGE_SLIDER).each(function(e,i){var n=t(i);c._jQueryInterface.call(n,n.data())})}),t.fn[n]=c._jQueryInterface,t.fn[n].Constructor=c,t.fn[n].noConflict=function(){return t.fn[n]=o,c._jQueryInterface},c}(jQuery),Imageviewer=function(t){var e="env-animation-in-progress",i=".env.image-viewer",n="envImageviewer",o=t.fn[n],s={ACTIVE_DOT:".env-image-viewer__indicators--active",DATA_MOVE_TO:"[data-move-to]",DATA_MOVE:"[data-move]",DATA_IMAGE_VIEWER:"[data-image-viewer]",IMAGES:".env-image-viewer__images",INDICATORS:".env-image-viewer__indicators",DATA_SLIDE_TO:"[data-slide-to]",SPINNER:".env-spinner"},a={ACTIVE_DOT:"env-image-viewer__indicators--active",HIDDEN:"env-image-viewer--hidden",SPINNER_HIDE:"env-spinner--hide"},r={CLICK_DATA_API:"click"+i+".data-api",TOUCHEND:"touchend"+i,TOUCHMOVE:"touchmove"+i,TOUCHSTART:"touchstart"+i},l=function(){function i(e,n){_classCallCheck(this,i),this.$el=t(e),this.$images=this.$el.find(s.IMAGES),this._isShown=!1,this.config=t.extend({},this.$el.data()),this.config.index=this.$images.index(n[0])}return i.prototype.next=function(){this.show(this._getNextItemIndex())},i.prototype.prev=function(){this.show(this._getPrevItemIndex())},i.prototype.show=function(e){this.config.index=Number(e);var i=t(this.$images[e])[0],n=i.getAttribute("href");if(this._isShown){t(s.SPINNER).removeClass(a.SPINNER_HIDE),this.$btnContainer.addClass(a.HIDDEN);var o=this._loadImage(n);this.$imgContainer.html(o),this._setActiveIndicatorElement()}else{this.$modal=t("<div/>",{class:"env-image-viewer__modal"}),this.$btnContainer=t("<div/>",{class:"env-image-viewer__dialog"}),this.$imgContainer=t("<div/>",{class:"env-image-viewer__modal-container"}),this.$modal.append(this.$btnContainer),this.$btnContainer.append(this.$imgContainer),this.$modal.appendTo(document.body),this.$btnContainer.append(this._getIndicators()),this.$images.length>1&&this.$btnContainer.append(this._getButtons()),this.$btnContainer.addClass(a.HIDDEN);var r=this._loadImage(n);this.$imgContainer.html(r),this._isShown=!0,this._bindContainerEvents(),this._bindEvents(),this._showBackdrop(),t('<div class="env-spinner">\n                                <div class="env-rect1"></div>\n                                <div class="env-rect2"></div>\n                                <div class="env-rect3"></div>\n                                <div class="env-rect4"></div>\n                                <div class="env-rect5"></div>\n                             </div>').prependTo(this.$modal)}},i.prototype.hide=function(){var t=this,e=function(){t.$backdrop.remove(),t.$modal.remove(),t.$btnContainer.remove(),t.$imgContainer.remove()};this.$backdrop.one(Util.getTransitionEndEvent(),e).removeClass("env-image-viewer__backdrop--in"),this._isShown=!1},i.prototype._loadImage=function(e){var i=this,n=t("<img>");return n.addClass("env-image-viewer__img").attr({tabindex:"-1",src:e}).on("load",function(){n.width()<n.height()&&n.css({"max-height":"800px",width:"auto"}),t(s.SPINNER).addClass(a.SPINNER_HIDE),i.$btnContainer.removeClass(a.HIDDEN),i.$imgContainer.children()[0].focus()}),n},i.prototype._bindContainerEvents=function(){var e=this;this.$btnContainer.on(r.CLICK_DATA_API,s.DATA_MOVE,function(i){i.preventDefault(),"next"===t(i.currentTarget).data("move")?e.next():e.prev()}),this.$btnContainer.on(r.CLICK_DATA_API,s.DATA_MOVE_TO,function(t){var i=t.currentTarget.getAttribute("data-move-to");i&&e.show(i)})},i.prototype._getButtons=function(){return'<a class="env-image-viewer--prev" role="button" data-move="prev">\n               <span class="env-image-viewer__prev-icon env-icon--arrow-left"></span>\n               <span class="env-assistive-text">Previous</span>\n            </a>\n            <a class="env-image-viewer--next" role="button" data-move="next">\n               <span class="env-image-viewer__next-icon env-icon--arrow-right"></span>\n               <span class="env-assistive-text">Next</span>\n            </a>'},i.prototype._getIndicators=function(){return'<ol class="env-image-viewer__indicators">\n                  '+this._getIndicatorItems()+"\n               </ol>"},i.prototype._getIndicatorItems=function(){var t=this.config.index;return this.$images.map(function(e){return'<li data-move-to="'+e+'">\n                     <span class="'+(e===t?"env-image-viewer__indicators--active ":"")+' env-icon--dot-small env-icon--large"></span>\n                     </li>'}).get().join("")},i.prototype._showBackdrop=function(){var i=this;this.$backdrop=t("<div/>",{class:"env-image-viewer__backdrop"}),this.$modal.on(r.CLICK_DATA_API,function(t){i.$backdrop.hasClass(e)||t.target===t.currentTarget&&i._isShown&&i.hide()}),this.$backdrop.appendTo(document.body),this.$backdrop.one(Util.getAnimationEndEvent(),this._removeBackdropAnimation).addClass("env-image-viewer__backdrop--in "+e)},i.prototype._removeBackdropAnimation=function(i){t(i.currentTarget).removeClass(e)},i.prototype._bindEvents=function(){var t=this;this.$imgContainer.on("keydown",function(e){return t._keydown(e)})},i.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;case 27:t.preventDefault(),this.$backdrop.hasClass(e)||this.hide();break;default:return}},i.prototype._getNextItemIndex=function(){return this.config.index===this.$images.length-1?0:this.config.index+1},i.prototype._getPrevItemIndex=function(){return 0===this.config.index?this.$images.length-1:this.config.index-1},i.prototype._setActiveIndicatorElement=function(){if(this._indicatorsElement=this.$btnContainer.find(s.INDICATORS)[0],this.$images.length>0){this.$btnContainer.find(s.ACTIVE_DOT).removeClass(a.ACTIVE_DOT);var e=this.$btnContainer.find(s.INDICATORS).children()[this.config.index];e&&t(e).children().addClass(a.ACTIVE_DOT)}},i._jQuery=function(t){var e=this;return this.each(function(){var n=new i(e,t);n.show(n.config.index)})},i}();return t(document).on(r.CLICK_DATA_API,s.DATA_IMAGE_VIEWER,function(e){e.preventDefault();var i=t(e.target);i.is("img")&&t(this).envImageviewer(i.parent())}),t.fn[n]=l._jQuery,t.fn[n].Constructor=l,t.fn[n].noConflict=function(){return t.fn[n]=o,l._jQuery},l}(jQuery),ModalDialog=function(t){var e="env-animation-in-progress",i="focusin.env-modal-dialog",n="envDialog",o=t.fn[n],s={HIDE:"hide.env-modal-dialog",HIDDEN:"hidden.env-modal-dialog",SHOW:"show.env-modal-dialog",SHOWN:"shown.env-modal-dialog"},a=function(){function n(e){_classCallCheck(this,n),this.el=e,this.$el=t(e),this._isShown=!1}return n.prototype.toggle=function(){return this._isShown?this.hide():this.show()},n.prototype.show=function(){var e=this;if(!this._isShown){Util.reflow(this.el);var i=t.Event(s.SHOW,{});this.$el.trigger(i);var n=t.Event(s.SHOWN,{});this.$el.one(Util.getTransitionEndEvent(),function(){e.$el.trigger(n)}).addClass("env-modal-dialog--show").removeAttr("aria-hidden").css("opacity",1),this._showBackdrop(),this._isShown=!0,this.el.focus(),this._bindEvents()}},n.prototype.hide=function(){var e=this;if(this._isShown){var i=function(){e.$el.removeClass("env-modal-dialog--show");var i=t.Event(s.HIDDEN,{});e.$el.trigger(i)},n=function(){e.$backdrop.remove()},o=t.Event(s.HIDE,{});this.$el.trigger(o),this.$el.one(Util.getTransitionEndEvent(),i).attr("aria-hidden","true").css("opacity",0).off("click","[data-modal-dialog-dismiss]"),this.$backdrop.one(Util.getTransitionEndEvent(),n).removeClass("env-modal-dialog__backdrop--in"),this._isShown=!1,this._unbindEvents()}},n.prototype._bindEvents=function(){var e=this;this.$el.on("click","[data-modal-dialog-dismiss]",function(t){return e.hide(t)}),t(document).off(i).one(i,function(t){document===t.target||e.el===t.target||e.$el.has(t.target).length||e.el.focus()});var n=this.$el.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable]'),o=n[0],s=n[n.length-1];this.$el.on("keydown",function(t){9===t.which&&(t.shiftKey?t.target===o&&(t.preventDefault(),s.focus()):t.target===s&&(t.preventDefault(),o.focus())),27===t.which&&e.hide()})},n.prototype._unbindEvents=function(){this.$el.off("click keydown"),t(document).off(i)},n.prototype._showBackdrop=function(){var i=this;this.$backdrop=t("<div/>",{class:"env-modal-dialog__backdrop"}),this.$el.on("click",function(t){i.$backdrop.hasClass(e)||t.target===t.currentTarget&&i._isShown&&i.hide()}),this.$backdrop.appendTo(document.body),this.$backdrop.one(Util.getAnimationEndEvent(),this._removeBackdropAnimation).addClass("env-modal-dialog__backdrop--in "+e)},n.prototype._removeBackdropAnimation=function(i){t(i.currentTarget).removeClass(e)},n._jQuery=function(e){var i=this;return this.each(function(){var o=t(i),s=o.data("env.modal-dialog");if(s||(s=new n(i),o.data("env.modal-dialog",s)),"string"==typeof e){var a=s[e];if(void 0===a)throw new Error('No method named "'+e+'"');return void a.call(s)}s.show()})},n}();return t.fn[n]=a._jQuery,t.fn[n].Constructor=a,t.fn[n].noConflict=function(){return t.fn[n]=o,a._jQuery},t(document).on("click","[data-modal-dialog]",function(e){e.preventDefault(),t(t(this).data("target")).modalDialog()}),a}(jQuery),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Popover=function(t){var e="envPopover",i=t.fn[e],n={top:"bottom center",bottom:"top center",left:"middle right",right:"middle left"},o={top:"10 0",bottom:"-10 0",left:"0 10",right:"0 -10"},s={clickOutside:!1,constraints:[],container:"body",content:"",escapeContent:!0,customOffset:void 0,placement:"top",template:'<div class="env-popover" role="tooltip">\n                  <div class="env-popover__arrow"></div>\n                  <div class="env-popover__header">\n                     <h3 class="env-popover__header__title"></h3>\n                  </div>\n                  <div class="env-popover__content"></div>\n               </div>',title:"",trigger:"click"},a=function(){function e(i,n){_classCallCheck(this,e),this.el=i,this.$el=t(this.el),this.config=t.extend({},s,this.$el.data(),n),this.bindEvents()}return e.prototype.bindEvents=function(){var t=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)t.$el.on(t.config.trigger+".env.popover",function(){t.isShowing?t.hide():t.show()});else{var i="hover"===e,n=i?"mouseenter":"focusin",o=i?"mouseleave":"focusout";t.$el.on(n+".env.popover",function(){t.isShowing||t.show()}).on(o+".env.popover",function(){t.isShowing&&t.hide()})}})},e.prototype.getPopoverElement=function(){return this.$popoverElement=this.$popoverElement||t(this.config.template)},e.prototype.setText=function(t,e,i){t.find(e)[this.config.escapeContent?"text":"html"](i)},e.prototype.setTitle=function(t){this.setText(t,".env-popover__header__title",this.config.title)},e.prototype.setContent=function(t){this.setText(t,".env-popover__content",this.config.content)},e.prototype.setArrowPosition=function(t){t.find(".env-popover__arrow").addClass("env-popover__arrow--"+this.config.placement)},e.prototype._getOffset=function(){return this.config.customOffset||o[this.config.placement]},e.prototype.hide=function(){this.getPopoverElement().detach(),this.config.clickOutside&&t("body").off(this.config.trigger+".env.popover"),this.isShowing=!1},e.prototype.show=function(){var e=this.getPopoverElement();this.setTitle(e),this.setContent(e),this.setArrowPosition(e),t("body").append(e),this._tether=new Tether({attachment:n[this.config.placement],element:e,target:this.el,classes:{element:!1,enabled:!1},classPrefix:"env-tether",offset:this._getOffset(),constraints:this.config.constraints,addTargetClasses:!1}),this._tether.position(),this.config.clickOutside&&t("body").on(this.config.trigger+".env.popover",this.clickOutsideHandler.bind(this)),this.isShowing=!0},e.prototype.destroy=function(){this.hide(),this.$popoverElement=void 0,this._tether=void 0,this.isShowing=!1,this.$el.removeData("env.popover")},e.prototype.clickOutsideHandler=function(e){var i=t(e.target);!this.isShowing||i.is(this.$el)||i.closest(this.$popoverElement).length||this.hide()},e._jQuery=function(i){return this.each(function(){var n=t(this),o=n.data("env.popover");if((o||!/destroy|hide/.test(i))&&(o||(o=new e(this,"object"===(void 0===i?"undefined":_typeof(i))?i:null),n.data("env.popover",o)),"string"==typeof i)){var s=o[i];if(!s)throw new Error('Invalid method name "'+i+'"');s.call(o)}})},e}();return t.fn[e]=a._jQuery,t.fn[e].Constructor=a,t.fn[e].noConflict=function(){return t.fn[e]=i,a._jQuery},a}(jQuery),RangeSlider=function(t){var e=".env-range-slider__handle",i=".env-range-slider__value",n=".env-range-slider__range",o="env.range-slider",s="envRangeSlider",a=t.fn[s],r={SLIDE:"slide",STOP:"slidestop"},l={min:0,max:100,step:1,values:[0,0],visibleValues:!0},h=function(){function s(o,a){_classCallCheck(this,s),this.config=t.extend({},l,a),this.$document=t(document),this.el=o,this.$el=t(o),this.handles=this.$el.find(e),this.$range=this.$el.find(n),this.isTouch=Util.isTouch(),this.config.visibleValues&&(this.handleValueHolders=this.$el.find(i)),this.handleEvents={mousedown:this._initSlide.bind(this),touchstart:this._initSlide.bind(this),keydown:this._initKeySlide.bind(this),keyup:this._stopKeySlide.bind(this)}}return s.prototype.initialize=function(){this._setupHandles(),this._refreshRange(),this._bindEvents(),this.isTouch&&this.$el.addClass("env-range-slider--touch")},s.prototype.values=function(e){if(t.isArray(e)){for(var i=0;i<e.length;i+=1)this.config.values[i]=this._trimAlignValue(e[i]);this._refreshRange()}},s.prototype._setupHandles=function(){this.handles.each(function(e,i){t(i).data("range-handle-index",e)})},s.prototype._refreshRange=function(){var e=this,i=void 0,n=void 0,o=void 0;this.handles.each(function(s,a){o=e._getValue(s),n=(o-e.config.min)/(e.config.max-e.config.min)*100,t(a).css("left",n+"%"),0===s?(e.$range.css("left",n+"%"),e.config.visibleValues&&e.handleValueHolders.eq(s).css("left",n+"%").text(o)):(e.$range.css("width",n-i+"%"),e.config.visibleValues&&e.handleValueHolders.eq(s).css("left",n+"%").text(o)),i=n})},s.prototype._bindEvents=function(){this.handles.off(),this.handles.on(this.handleEvents)},s.prototype._initSlide=function(e){var i=this,n=this._getPosition(e),s=this._normValueFromMouse(n),a=this.config.max-this.config.min+1,r=void 0,l=void 0,h=void 0,c=void 0;"touchstart"===e.type?(this.$document.on("touchmove."+o,this._handleSlide.bind(this)),this.$document.one("touchend."+o,this._stopSlide.bind(this))):(this.$document.on("mousemove."+o,this._handleSlide.bind(this)),this.$document.one("mouseup."+o,this._stopSlide.bind(this))),this.handles.each(function(e,n){h=i._getValue(e),c=Math.abs(s-h),(a>c||a===c&&(e===i._lastChangedValue||h===i.config.min))&&(a=c,r=t(n),l=e)}),this._handleIndex=l,r.trigger("focus");var d=r.offset();this._clickOffset={left:n.x-d.left-r.width()/2,top:n.y-d.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this._slide(e,l,s)},s.prototype._handleSlide=function(t){var e=this._normValueFromMouse(this._getPosition(t));return this._slide(t,this._handleIndex,e),!1},s.prototype._slide=function(t,e,i){var n=this._getValue(e?0:1),o=this._getValue(e),s=this._getValues();i=0===e?Math.min(n,i):Math.max(n,i),s[e]=i,i!==o&&(this._trigger(r.SLIDE,t,{values:s}),this._setValue(e,i))},s.prototype._stopSlide=function(t){return this.$document.off("mousemove."+o+" touchmove."+o),this._trigger(r.STOP,t,{values:this._getValues()}),this._handleIndex=null,this._clickOffset=null,!1},s.prototype._initKeySlide=function(e){switch(e.keyCode){case 38:case 40:case 37:case 39:e.preventDefault(),this._keySliding||(this._keySliding=!0);break;default:return}var i=t(e.target).data("range-handle-index"),n=this._getValue(i),o=void 0;switch(event.keyCode){case 38:case 39:if(n===this.config.max)return;o=this._trimAlignValue(n+this.config.step);break;case 40:case 37:if(n===this.config.min)return;o=this._trimAlignValue(n-this.config.step)}this._slide(e,i,o)},s.prototype._stopKeySlide=function(t){this._keySliding&&(this._keySliding=!1,this._trigger(r.STOP,t,{values:this._getValues()}))},s.prototype._normValueFromMouse=function(t){var e=this.el.outerWidth(),i=this.config.max-this.config.min,n=t.x-this.el.offset().left-(this._clickOffset?this._clickOffset.left:0),o=n/e;o>1&&(o=1),o<0&&(o=0);var s=this.config.min+o*i;return this._trimAlignValue(s)},s.prototype._getPosition=function(t){var e={};if(this.isTouch){var i=t.originalEvent.touches[0];e.x=i.pageX,e.y=i.pageY}else e.x=t.pageX,e.y=t.pageY;return e},s.prototype._trimAlignValue=function(t){if(t<=this.config.min)return this.config.min;if(t>=this.config.max)return this.config.max;var e=this.config.step,i=(t-this.config.min)%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},s.prototype._getValues=function(){return this.config.values.slice()},s.prototype._getValue=function(t){return this.config.values[t]},s.prototype._setValue=function(t,e){this.config.values[t]=this._trimAlignValue(e),this._refreshRange()},s.prototype._trigger=function(e,i,n){var o=this.el[0],s=this.config[e];i=t.Event(i),i.type=e,i.target=o,this.$el.trigger(i,n),s&&s.call(o,i,n)},s._jQuery=function(e){for(var i=this,n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return this.each(function(){var n=t(i),r=n.data(o);if(r||(r=new s(i,e),n.data(o,r)),"string"==typeof e){var l=r[e];if(void 0===l)throw new Error('No method named "'+e+'"');l.call.apply(l,[r].concat(a))}r.initialize()})},s}();return t.fn[s]=h._jQuery,t.fn[s].Constructor=h,t.fn[s].noConflict=function(){return t.fn[s]=a,h._jQuery},h}(jQuery),Tabs=function(t){var e="envTabs",i=t.fn[e],n=".env-tabs__nav__link",o={active:0},s=function(){function e(i,s){_classCallCheck(this,e),this.el=i,this.$el=t(i),this.$tabs=this.$el.find(n),this.config=t.extend({},o,s),this.$panels={},this.$activeTab=void 0,this._bindEvents()}return e.prototype.initialize=function(){var e=this;this.$tabs.each(function(i,n){var o=t(n),s=e.$el.find(o.attr("href"));e.$panels[o.attr("id")]=s,o.removeClass("env-is-active").attr("aria-selected",!1),s.attr("aria-hidden",!0).hide()}),this._setActive(this.$tabs.eq(this.config.active))},e.prototype.activate=function(t){this._setActive(this.$tabs.eq(t))},e.prototype.destroy=function(){this.$tabs.off("click keydown"),this.$activeTab=void 0,this.$tabs=void 0,this.$panels=void 0,this.$el.removeData("env.tabs")},e.prototype._bindEvents=function(){var e=this;this.$tabs.on("click",function(i){i.preventDefault(),e._setActive(t(i.currentTarget))}),this.$tabs.on("keydown",function(i){13===i.which&&e._setActive(t(i.currentTarget))})},e.prototype._setActive=function(t){this._resetActive(),t.addClass("env-is-active").attr("aria-selected",!0).focus(),this._getPanelForTab(t).attr("aria-hidden",!1).show(),this.$activeTab=t},e.prototype._getPanelForTab=function(t){return this.$panels[t.attr("id")]},e.prototype._resetActive=function(){this.$activeTab&&(this.$activeTab.removeClass("env-is-active").attr("aria-selected",!1),this._getPanelForTab(this.$activeTab).attr("aria-hidden",!0).hide())},e._jQuery=function(i,n){var o=this;return this.each(function(){var s=t(o),a=s.data("env.tabs");if(a){if("string"==typeof i){var r=a[i];if(!r)throw new Error('Invalid method name "'+i+'"');r.call(a,n)}}else a=new e(o,i),s.data("env.tabs",a),a.initialize()})},e}();return t.fn[e]=s._jQuery,t.fn[e].Constructor=s,t.fn[e].noConflict=function(){return t.fn[e]=i,s._jQuery},s}(jQuery),Util=function(){function t(t){var e=void 0,i=document.createElement("fakeelement");for(e in t)if(void 0!==i.style[e])return t[e];return!1}var e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},i={OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};return{getAnimationEndEvent:function(){return t(i)},getTransitionEndEvent:function(){return t(e)},
reflow:function(t){return t.offsetHeight},isTouch:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return $(e).length>0?e:null}catch(t){return null}}}}();
//# sourceMappingURL=../dist/map/envision.js.map
